---
http_interactions:
- request:
    method: get
    uri: https://prod-s0-webapp-proxy.nubank.com.br/api/discovery
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - nubank-ruby (https://www.github.com/alfakini/nubank-ruby)
      Origin:
      - https://conta.nubank.com.br
      Referer:
      - https://conta.nubank.com.br
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Allow-Origin:
      - https://conta.nubank.com.br
      Access-Control-Expose-Headers:
      - Strict-Transport-Security, X-Frame-Options, X-Content-Type-Options, X-Xss-Protection,
        X-Download-Options, X-Permitted-Cross-Domain-Policies, Content-Security-Policy,
        Content-Type
      Content-Security-Policy:
      - 'object-src ''none''; script-src ''unsafe-inline'' ''unsafe-eval'' ''strict-dynamic''
        https: http:;'
      Content-Type:
      - application/json;charset=utf-8
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains
      Vary:
      - Accept-Encoding, User-Agent
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - DENY
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
    body:
      encoding: ASCII-8BIT
      string: '{"register_prospect_savings_web":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","register_prospect_savings_mgm":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","pusher_auth_channel":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","reset_password":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","register_prospect":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","register_prospect_global_web":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","request_password_reset":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","auth_gen_certificates":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","login":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY","auth_device_resend_code":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"}'
    http_version:
  recorded_at: Wed, 05 Sep 2018 02:12:37 GMT
- request:
    method: post
    uri: https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY
    body:
      encoding: UTF-8
      string: '{"grant_type":"password","login":"<CPF>","password":"<PASSWORD>","client_id":"other.conta","client_secret":"yQPeLzoHuJzlMMSAjC-LgNUJdUecx8XO"}'
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - nubank-ruby (https://www.github.com/alfakini/nubank-ruby)
      Origin:
      - https://conta.nubank.com.br
      Referer:
      - https://conta.nubank.com.br
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Allow-Origin:
      - https://conta.nubank.com.br
      Access-Control-Expose-Headers:
      - X-Frame-Options, X-Download-Options, Access-Control-Expose-Headers, X-Permitted-Cross-Domain-Policies,
        X-Xss-Protection, X-Signature, Content-Type, Access-Control-Allow-Origin,
        X-Content-Type-Options, X-Download-Options, Strict-Transport-Security, X-Frame-Options,
        Strict-Transport-Security, X-Permitted-Cross-Domain-Policies, Pragma, X-Content-Type-Options,
        Content-Security-Policy, Content-Type, X-Xss-Protection, Content-Security-Policy,
        Cache-Control
      Cache-Control:
      - no-store
      Content-Security-Policy:
      - 'object-src ''none''; script-src ''unsafe-inline'' ''unsafe-eval'' ''strict-dynamic''
        https: http:;'
      Content-Type:
      - application/json;charset=utf-8
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - DENY
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Signature:
      - <X-SIGNATURE>
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: '{"access_token":"<ACCESS-TOKEN>","token_type":"bearer","_links":{"change_password":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"enabled_features":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"certificate_status":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"revoke_token":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"userinfo":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"events_page":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"loginWebapp":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"dropman":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"events":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"faq_push_back_state":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"register_rewards":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"login_webapp":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"postcode":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"app_flows":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"rewards_signup_widget":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"revoke_all":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"customer":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"account":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"bills_summary":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"features_map":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"healthcheck":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"savings_account":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"rewards_enrollment":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"purchases":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"blackmirror":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"ghostflame":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"account_simple":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"shore":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"user_change_password":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"}},"refresh_token":"<REFRESH-TOKEN>","refresh_before":"2018-09-12T03:14:44Z"}'
    http_version:
  recorded_at: Wed, 05 Sep 2018 03:14:45 GMT
- request:
    method: get
    uri: https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - nubank-ruby (https://www.github.com/alfakini/nubank-ruby)
      Origin:
      - https://conta.nubank.com.br
      Referer:
      - https://conta.nubank.com.br
      Authorization:
      - Bearer <ACCESS-KEY>
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Allow-Origin:
      - https://conta.nubank.com.br
      Access-Control-Expose-Headers:
      - X-Frame-Options, X-Download-Options, Access-Control-Expose-Headers, X-Permitted-Cross-Domain-Policies,
        X-Xss-Protection, Content-Type, Access-Control-Allow-Origin, X-Content-Type-Options,
        X-Download-Options, Strict-Transport-Security, X-Frame-Options, Strict-Transport-Security,
        X-Permitted-Cross-Domain-Policies, X-Content-Type-Options, Content-Security-Policy,
        Content-Type, Vary, X-Xss-Protection, Content-Security-Policy
      Content-Security-Policy:
      - 'object-src ''none''; script-src ''unsafe-inline'' ''unsafe-eval'' ''strict-dynamic''
        https: http:;'
      Content-Type:
      - application/json;charset=utf-8
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains
      Vary:
      - Accept-Encoding, User-Agent
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - DENY
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Xss-Protection:
      - 1; mode=block
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
    body:
      encoding: ASCII-8BIT
      string: '{"bills":[{"state":"open","summary":{"payments":"55","interest_charge":"55","total_international":"55","due_date":"<DATE>","precise_minimum_payment":"55","interest_reversal":"55","close_date":"<DATE>","expenses":"55","total_credits":"55","past_balance":55,"effective_due_date":"<DATE>","international_tax":"55","tax":"55","adjustments":"55","precise_total_balance":"55","total_financed":"55","total_balance":55,"interest_rate":"55","total_national":"55","previous_bill_balance":"55","interest":55,"total_cumulative":55,"paid":55,"fees":"55","total_payments":"55","minimum_payment":55,"open_date":"<DATE>","total_accrued":"55"},"_links":{"self":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"}}},{"state":"closed","id":"<ID>","summary":{"payments":"-55","remaining_balance":55,"interest_charge":"55","total_international":"55","due_date":"55","precise_minimum_payment":"55","interest_reversal":"55","close_date":"<DATE>","expenses":"55","total_credits":"55","past_balance":55,"effective_due_date":"<DATE>","international_tax":"55","tax":"55","adjustments":"55","precise_total_balance":"55","total_financed":"55","total_balance":55,"interest_rate":"55","total_national":"55","previous_bill_balance":"55","interest":55,"total_cumulative":55,"paid":55,"fees":"55","total_payments":"-55","minimum_payment":55,"remaining_minimum_payment":55,"open_date":"<DATE>","total_accrued":"55"},"href":"nuapp://bill/<ID>","_links":{"self":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"finance_bill":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"}}}],"_links":{"open":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"},"future":{"href":"https://prod-s0-webapp-proxy.nubank.com.br/api/proxy/PROXY"}}}'
    http_version:
  recorded_at: Wed, 05 Sep 2018 03:14:46 GMT
recorded_with: VCR 4.0.0
